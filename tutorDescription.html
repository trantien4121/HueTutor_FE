<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="fonts/icomoon/style.css">

    <link rel="stylesheet" href="css/owl.carousel.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Boostrap icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">


    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <!--Sẽ có hiệu ứng ở comment như lỗi ở navbar-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
        integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ"
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Style -->
    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" href="css/searchbar.css">

    <link rel="stylesheet" href="css/choise.css">

    <link rel="stylesheet" href="css/userProfile.css">

    <link rel="stylesheet" href="css/blog.css">

    <link rel="stylesheet" href="css/tutorDesction.css">

    <!--Lấy plugin của fanpage-->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v16.0&appId=2014861808848576&autoLogAppEvents=1"
        nonce="CHBrokX5"></script>

    <!-- Jquery CDN-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
        charset="utf-8"></script>

    <title>Hue Tutors</title>
</head>

<body>

    <!--Mobile menu responsive-->
    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
                <span class="icon-close2 js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div>

    <!--Top Bar-->
    <div class="top-bar">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <a href="#" class=""><span class="mr-1  icon-envelope-open-o"
                            style="color: rgb(218, 125, 125); font-size: 16px;"></span> <span
                            class="d-none d-md-inline-block">Huetutors@gmail.com</span></a>
                    <span class="mx-md-2 d-inline-block"></span>
                    <a href="#" class=""><span class="mr-1  icon-phone"
                            style="color: rgb(24, 165, 24); font-size: 16px;"></span>
                        <span class="d-none d-md-inline-block">
                            (+84) 345476075
                        </span></a>


                    <div class="float-right">

                        <a href="#" class=""><span class="mr-1  icon-twitter"
                                style="color: #1DA1F2; font-size: 16px;"></span> <span
                                class="d-none d-md-inline-block">Twitter</span></a>
                        <span class="mx-md-2 d-inline-block"></span>
                        <a href="#" class=""><span class="mr-1  icon-facebook-official"
                                style="color: #3B5998; font-size: 16px;"></span> <span
                                class="d-none d-md-inline-block">Facebook</span></a>

                    </div>

                </div>

            </div>

        </div>
    </div>

    <!--Navbar_header-->
    <header class="site-navbar js-sticky-header site-navbar-target" role="banner">

        <div class="container">
            <div class="row align-items-center position-relative">


                <div class="site-logo">
                    <a href="index.html" class="text-black">
                        <img srcset="../images/Logo.png 11x" alt="" class="logo">
                    </a>
                </div>

                <div class="col-12">
                    <nav class="site-navigation text-right ml-auto " role="navigation">

                        <ul class="site-menu main-menu js-clone-nav ml-auto d-none d-lg-block">
                            <li class="menu-active"><a href="index.html" class="nav-link"><i
                                        class="mr-1 bi bi-house-door"></i>Trang
                                    chủ</a></li>
                            <li><a href="tutor.html" class="nav-link"><i class="mr-1 bi bi-mortarboard"></i>Gia
                                    sư</a></li>


                            <li class="has-children">
                                <a href="#about-section" class="nav-link">Thông tin</a>
                                <ul class="dropdown arrow-top">
                                    <li><a href="#info-section" class="nav-link">Quy trình dạy và học</a></li>
                                    <li><a href="#pricing-section" class="nav-link">Lớp mới</a></li>
                                    <li><a href="#tui-section" class="nav-link">Học phí tham khảo</a></li>
                                </ul>
                            </li>

                            <li><a href="blog.html" class="nav-link"><i class="mr-1 bi bi-person-vcard"></i>Bài
                                    viết</a></li>
                            <li><a href="register.html" class="nav-link register-block"><i
                                        class="mr-1 bi bi-person-add"></i>Đăng
                                    ký</a></li>
                            <li><a href="login.html" class="nav-link login-block"><i class="mr-1 bi bi-person"></i>Đăng
                                    nhập</a></li>
                        </ul>
                    </nav>

                </div>

                <div class="toggle-button d-inline-block d-lg-none"><a href="#"
                        class="site-menu-toggle py-5 js-menu-toggle text-black"><span class="icon-menu h3"></span></a>
                </div>

            </div>
        </div>

    </header>

    <!-- Back to top button -->
    <button type="button" class="btn btn-floating btn-lg" id="btn-back-to-top">
        <i class="bi bi-arrow-up"></i>
    </button>

    <!-- tutor Description section-->
    <div class="tutor-description-section pb-5 pt-5">
        <div class="container">
            <div class="row gutters">
                <div class="col mt-2">
                    <div class="card card-custom">
                        <div class="card-header mb-2 mt-2 d-flex justify-content-between">
                            <span style="font-size: 16px; line-height: 2.6rem; font-weight:bold">Đánh giá (20)</span>
                        </div>
                        <div class="progress" role="progressbar" aria-label="Example 2px high" aria-valuenow="25"
                            aria-valuemin="0" aria-valuemax="100" style="height: 2px">
                            <div class="progress-bar" style="width: 12%"></div>
                        </div>
                        <div class="card-body">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer section-->
    <div id="footer-section" class="delivery-process-section pt-5"
        style="background-color: rgb(33, 35, 49); opacity: 0.9;color: white;">
        <div class="container">
            <div class="row position-relative p-1">
                <div class="col-lg-3 col-md-6 col-sm-12 info-huetutor-footer">
                    <span class="info-huetutor-footer__title">
                        THÔNG TIN LIÊN HỆ
                    </span>
                    <ul>
                        <li><i class="mr-1 bi-geo-alt"></i>77 Nguyễn Huệ, Phú Nhuận, Thành phố Huế, Thừa Thiên Huế</li>
                        <li><span class="mr-1  icon-envelope-open-o"></span> Huetutors@gmail.com</li>
                        <li><span class="mr-2  icon-phone"></span>(+84) 345476075</li>
                        <li><i class="mr-2 bi bi-shield-check"></i>Tiến Trần - HUSC</li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-12 info-huetutor-footer">
                    <span class="info-huetutor-footer__title ">
                        GIA SƯ CÁC MÔN
                    </span>
                    <ul>
                        <li><i class="mr-2 bi bi-check-lg"></i>Toán, tiếng việt</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Các môn THCS, THPT</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Các học phần ở Đại học, cao đẳng...</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Các loại chứng chỉ</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Ngoại ngữ</li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-12 info-huetutor-footer">
                    <span class="info-huetutor-footer__title ">
                        GIA SƯ CÁC LỚP
                    </span>
                    <ul>
                        <li><i class="mr-2 bi bi-check-lg"></i>Cấp tiểu học</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Cấp THCS, THPT</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Đại học, cao đẳng,...</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Lớp luyện thi chứng chỉ</li>
                        <li><i class="mr-2 bi bi-check-lg"></i>Lớp ngoại ngữ</li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-12 info-huetutor-footer">
                    <span class="info-huetutor-footer__title">
                        FANPAGE
                    </span>
                    <div class="fanpage-iframe pt-2 pb-2">
                        <div class="fb-page" data-href="https://www.facebook.com/trungtamgiasuhuegioi"
                            data-tabs="timeline" data-width="300" data-height="200" data-small-header="false"
                            data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                            <blockquote cite="https://www.facebook.com/trungtamgiasuhuegioi"
                                class="fb-xfbml-parse-ignore"><a
                                    href="https://www.facebook.com/trungtamgiasuhuegioi">Trung Tâm Gia Sư Tại Tp Huế</a>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-end-section" class="delivery-process-section"
        style="background-color:  rgb(43, 45, 59) ;color: white;">
        <div class="end-footer d-flex justify-content-center pt-3 pb-3" style="font-size: 14px;">
            © Copyright 2019 - 2023, Trung tâm gia sư Huế - HueTutors, All Rights Reserved.
        </div>
    </div>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/main.js"></script>

    <!-- Categories search-bar -->
    <script src="js/choices.js"></script>
    <script src="js/tutorDescription.js"></script>
    <script>
        const choices = new Choices('[data-trigger]',
            {
                searchEnabled: true,
                itemSelectText: '',
            });

    </script>
    <!-- Outstandingtutor get API-->
    <script src="./js/outStanding_blogPage.js" type="module"></script>
    <script src="./js/login.js" type="module"></script>

    <script type="text/javascript">

        /*Click button load more to load card-advertisement*/
        window.addEventListener("load", () => {
            $(".card-advs").slice(0, 4).show();
        });
        $(document).ready(function () {
            $("#loadMore").on("click", function (e) {
                e.preventDefault();
                $(".card-advs:hidden").slice(0, 4).slideDown();
                if ($(".card-advs:hidden").length == 0) {
                    $("#loadMore").text("...").addClass("noContent");
                }
            });

        });

        /*Scrool to top*/

        //Get the button
        let mybutton = document.getElementById("btn-back-to-top");

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction();
        };

        function scrollFunction() {
            if (
                document.body.scrollTop > 700 ||
                document.documentElement.scrollTop > 700
            ) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        // When the user clicks on the button, scroll to the top of the document
        mybutton.addEventListener("click", backToTop);

        function backToTop() {
            $("html, body").animate({ scrollTop: "0" }, 1000);
        }

    </script>

    <!--Rating function-->
    <script>
        var count = 0;

        function startRating(item) {
            count = item.id[0];
            sessionStorage.star = count;
            for (var i = 0; i < 5; i++) {
                if (i < count) {
                    document.getElementById((i + 1)).style.color = "gold";
                }
                else {
                    document.getElementById((i + 1)).style.color = "grey"
                }
            }
        }
        function result() {
            if (count != 0) {
                // document.getElementById('result').innerHTML =
                //     "<h4>Rating: " + count + "</h4>"
                //     + "<h4>Review</h4>"
                //     + "<p>" + document.getElementById("review").value + "</p>";

                const queryString = window.location.search;
                const urlParams = new URLSearchParams(queryString);
                const tutorId = urlParams.get('ID');

                const accessToken = localStorage.getItem('accessToken');
                const userInfo = fetch(`http://localhost:8080/api/v1/auth/getUserByAccessToken/${accessToken}`)
                    .then(response => response.json())
                    .then(user => {
                        var userIdRated = user.data.userId;

                        async function postJSON(data) {
                            try {
                                const response = await fetch(`http://localhost:8080/api/v1/Rates/${userIdRated}/insertRateJson/${tutorId}`, {
                                    method: "POST", // or 'PUT'
                                    headers: {
                                        "Content-Type": "application/json",
                                    },
                                    body: JSON.stringify(data),
                                });

                                const result = await response.json();
                                
                                console.log("Success:", result);
                                setTimeout(function () { location.reload() }, 1000);
                            } catch (error) {
                                console.error("Error:", error);
                            }
                        }

                        const data = {
                            rateContent: `${document.getElementById("review").value}`,
                            numStarOfRate: count
                        };
                        postJSON(data);

                        // alert("số sao: " + count + "--" + "userId: " +
                        //     userIdRated + "--" + "tutorId: " + tutorId)
                    })
            }
        }
    </script>
</body>

</html>